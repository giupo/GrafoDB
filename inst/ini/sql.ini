[PostgreSQL]
SELECT_TEST0=select * from psql
SELECT_TEST1=select * from pippo

DELETE_GRAFI="delete from grafi where tag='--tag--'"
DELETE_CONFLITTI="delete from conflitti where tag='--tag--'"
DROP_TABLE="drop table if exists --tab--"
TIMESTAMP_FOR_TAG="select last_updated from grafi where tag='--tag--'"
TUTTI_RILASCI="select id, tag, commento, last_updated, autore from grafi order by id, last_updated"
TUTTI_RILASCI_FILTERED="select id, tag, commento, last_updated, autore from grafi where tag like '%--filtro--%' order by id, last_updated"

DELETE_DATI_TAG_NAME="delete from dati where tag='--tag--' and name='--name--'"
DELETE_ARCHI_TAG_PA="delete from archi where tag='--tag--' and (partenza='--partenza--' or arrivo='--arrivo--')"
DELETE_FORMULE_TAG_NAME="delete from formule where tag='--tag--' and name = '--name--'"
DELETE_META_TAG_NAME="delete from metadati where tag='--tag--' and name='--name--'"
DELETE_META_TAG_NAME_KEY_VALUE="delete from metadati where tag='--tag--' and name = '--name--' and key='--key--' and value='--value--'"

INSERT_GRAFI="insert into grafi(tag, commento, last_updated, autore) values ('--tag--', '--commento--', LOCALTIMESTAMP::timestamp(0), '--autore--')"
COPY_DATI="insert into dati(tag, name, anno, periodo, freq, dati, autore, last_updated) select distinct '--to--', name, anno, periodo, freq, dati, autore, last_updated from dati where tag='--from--'"
COPY_ARCHI="insert into archi(tag, partenza, arrivo, autore, last_updated) select distinct '--to--', partenza, arrivo, autore, last_updated from archi where tag='--from--'"
COPY_FORMULE="insert into formule(tag, name, formula, autore, last_updated) select distinct '--to--', name, formula, autore, last_updated from formule where tag='--from--'"

CREATE_NEW_GRAFO="insert into grafi(tag, commento, last_updated, autore) select '--tag--', '--commento--', LOCALTIMESTAMP::timestamp(0), '--autore--' where not exists(select 1 from grafi where tag='--tag--')"

NEED_RESYNC="select count(tag) from grafi where tag='--tag--' and last_updated > '--last_updated--'"

ARCHI_TAG="select partenza, arrivo from archi where tag='--tag--'"
ARCHI_TAG_LAST_UPDATED="select partenza, arrivo from archi where tag='--tag--' and last_updated::timestamp(0) > to_timestamp(--last_updated--)"

INSERT_ARCHI="insert into archi(tag, partenza, arrivo, autore)
values('--tag--', '--from--', '--to--', '--autore--')"

SHOW_CONFLICTS="select * from conflitti where tag='--tag--'"
REMOVE_CONFLICTS="delete from conflitti where tag='--tag--'"
REMOVE_CONFLICTS_NAME="delete from conflitti where tag='--tag--' and name='--name--'"

GET_CONFLICTS="select a.name, a.tag, a.anno as anno, a.prd as periodo, a.freq as freq,  a.dati as dati, a.autore as autore, b.anno as old_anno, b.periodo as old_periodo, b.freq as old_freq , b.dati as old_dati, b.autore as old_autore, date, last_updated, formula  from conflitti a, dati b  where a.tag = '--tag--' and a.tag = b.tag and a.name = b.name order by 2,1"

GET_CONFLICTS_NAME="select a.name, a.tag, a.anno, a.prd as periodo, a.freq, a.dati, a.autore, b.anno as old_anno, b.periodo as old_periodo, b.freq as old_freq, b.dati as old_dati, b.autore as old_autore, date, formula from conflitti a, dati b where a.tag = '--tag--' and a.name='--name--' and a.tag = b.tag and a.name = b.name order by 2,1"

GET_FORMULA_CONFLICTS="select a.name, a.tag, a.formula, a.autore, date, b.formula as current_formula, b.autore as current_autore, b.last_updated, from conflitti a, formule b where a.tag='--tag--' and a.tag=b.tag and a.name=b.name order by 2,1"

GET_FORMULA_CONFLICTS_NAME="select a.name, a.tag, a.formula, a.autore, date, b.formula, b.autore, b.last_updated from conflitti a, formule b where a.tag='--tag--' and a.name='--name--' and a.tag = b.tag and a.name = b.name order by 2,1"

GET_CHANGED_SERIES="select name from dati where tag='--tag--' and last_updated > '--last_updated--' union select name from formule where tag='--tag--' and last_updated > '--last_updated--'"

GET_OUTER_DATA_NAMES="select name from dati where tag='--tag--' and last_updated > '--last_updated--' or (autore!='--autore--' and last_updated==--last_updated--)"
GET_OUTER_FORMULA_NAMES="select name from formule where tag='--tag--' and last_updated > '--last_updated--' or (autore != '--autore--' and last_updated == --last_updated--"

CREA_CONFLITTO_DATI="insert into conflitti(tag, name, anno, prd, freq, dati, autore) values ('--tag--', '--name--', --anno--, --periodo--, --freq--, '--dati--', '--autore--')"

CREA_CONFLITTO_FORMULE1="update conflitti set formula ='--formula--', autore='--autore--', date=LOCALTIMESTAMP::timestamp(0) where name='--name--' and tag='--tag--'"
CREA_CONFLITTO_FORMULE2="insert into conflitti(formula, autore, date, name, tag) select '--formula--', '--autore--', LOCALTIMESTAMP::timestamp(0), '--name--', '--tag--' where not exists (select 1 from conflitti where name='--name--' and tag='--tag--')"

GET_META="select value from metadati where tag='--tag--' and name='--name--' and key='--key--' order by 1"
GET_METADATA="select name, key, value from metadati where tag='--tag--' and name='--name--' order by name, key"

KEYS_METADATA="select distinct keys from metadati where tag='--tag--' order by 1"
VALUES_METADATA="select distinct value from metadati where tag='--tag--' order by 1"
VALUES_METADATA_KEY="select distinct value from metadati where tag='--tag--' and key='--key=--' order by 1"
INSERT_META="insert into metadati(tag, name, key, value, autore) values ('--tag--', '--name--', '--key--', '--value--', '--autore--')"
RENAME_DATI="update dati_--tag-- set name='--nuovo--' where name='--vecchio--'"
RENAME_FORMULE="update formule_--tag-- set name='--nuovo--' where name='--vecchio--'"
RENAME_FORMULA="update formule_--tag-- set formula=replace(formula, '--vecchio--', '--nuovo--') where name='--figlia--'"

RENAME_ARCHI_PARTENZA="update archi_--tag-- set partenza='--nuovo--' where partenza='--vecchio--'"
RENAME_ARCHI_ARRIVO="update archi_--tag-- set arrivo='--nuovo--' where arrivo='--vecchio--'"
RENAME_METADATI="update metadati_--tag-- set name='--nuovo--' where name='--vecchio--'"
GET_CHANGED_DATA="select name from dati where tag='--tag--' and last_updated::timestamp(0) > to_timestamp(--last_updated--)"

UPDATE_DATI="update dati_--tag-- set anno=--anno--, periodo=--periodo--, freq=--freq--, dati='--dati--', autore='--autore--', last_updated=LOCALTIMESTAMP::timestamp(0), notes='--msg--' where name='--name--' and tag='--tag--'"

UPSERT_DATI="insert into dati(anno, periodo, freq, dati, autore, name, tag, last_updated, notes) select --anno--, --periodo--, --freq--, '--dati--', '--autore--', '--name--', '--tag--', LOCALTIMESTAMP::timestamp(0), '--msg--' where not exists (select 1 from dati where name='--name--' and tag='--tag--')"

UPDATE_GRAFO_LAST_UPDATED="update grafi set last_updated=(select max(last_updated) from (select last_updated as last_updated from dati where tag='--tag--' union select last_updated as last_updated from formule where tag='--tag--' union select last_updated as last_updated from  archi where tag='--tag--') as last_updated) where tag='--tag--'"

INSERT_DATI="insert into dati(tag, name, anno, periodo, freq, dati, autore, last_updated) values ('--tag--', '--name--', --anno--, --periodo--, --freq--, '--dati--', '--autore--', LOCALTIMESTAMP::timestamp(0))"

INSERT_ARCO="insert into archi(tag, partenza, arrivo, autore, last_updated) values ('--tag--', '--partenza--', '--arrivo--', '--autore--', LOCALTIMESTAMP::timestamp(0))"

INSERT_FORMULA="insert into formule(tag, name, formula, autore, last_updated) values ('--tag--', '--name--', '--formula--', '--autore--', LOCALTIMESTAMP::timestamp(0))"

COUNT_ROLLING="select tag from grafi where tag like '--tag--p%'"

SHOW_HISTORY="select distinct tag, ordinale, autore, max(last_updated) from history where tag='--tag--' group by tag, ordinale, autore, order by 4, 2"

LOOKUP_METADATI="select name from metadati where tag='--tag--' and key='--key--' and value='--value--'"
LOOKUP_FORMULA="select name from formule where tag='--tag--' and formula like '%--key--%'"
LOOKUP_DATI="select name from dati where tag='--tag--' and dati like '%--key--%'"
GET_CHANGED_FORMULE="select name from formule where tag='--tag--' and last_updated::timestamp(0) > to_timestamp(--last_updated--)"

UPDATE_FORMULE="update formule_--tag-- set formula='--formula--', autore='--autore--', last_updated=LOCALTIMESTAMP::timestamp(0), commenti='--msg--' where tag='--tag--' and name='--name--'"

UPSERT_FORMULE="insert into formule(formula, autore, name, tag, last_updated, commenti) select '--formula--', '--autore--', '--name--', '--tag--', LOCALTIMESTAMP::timestamp(0), '--msg--' where not exists (select 1 from formule where name='--name--' and tag='--tag--')"

GET_ALL_META="select * from metadati where tag='--tag--' order by name, key"


[SQLite]
SELECT_TEST0=select * from sqlite
SELECT_TEST1=select * from pippo
SELECT_TEST2=select * from --tabella--
SELECT_TEST3="select * from --tabella-- where name='--name--'"

DELETE_GRAFI="delete from grafi where tag='--tag--'"
DELETE_CONFLITTI="delete from conflitti where tag='--tag--'"
DROP_TABLE="drop table if exists --tab--"
TIMESTAMP_FOR_TAG="select last_updated from grafi where tag='--tag--'"
TUTTI_RILASCI="select id, tag, commento, last_updated, autore from grafi order by id, last_updated"
TUTTI_RILASCI_FILTERED="select id, tag, commento, last_updated, autore from grafi where tag like '%--filtro--%' order by id, last_updated"

DELETE_DATI_TAG_NAME="delete from dati where tag='--tag--' and name='--name--'"
DELETE_ARCHI_TAG_PA="delete from archi where tag='--tag--' and (partenza='--partenza--' or arrivo='--arrivo--')"
DELETE_FORMULE_TAG_NAME="delete from formule where tag='--tag--' and name = '--name--'"
DELETE_META_TAG_NAME="delete from metadati where tag='--tag--' and name='--name--'"
DELETE_META_TAG_NAME_KEY_VALUE="delete from metadati where tag='--tag--' and name = '--name--' and key='--key--' and value='--value--'"

INSERT_GRAFI="insert into grafi(tag, commento, last_updated, autore) values ('--tag--', '--commento--', --last_updated--, '--autore--')"
COPY_DATI="insert into dati(tag, name, anno, periodo, freq, dati, autore, last_updated) select distinct '--to--', name, anno, periodo, freq, dati, autore, last_updated from dati where tag='--from--'"
COPY_ARCHI="insert into archi(tag, partenza, arrivo, autore, last_updated) select distinct '--to--', partenza, arrivo, autore, last_updated from archi where tag='--from--'"
COPY_FORMULE="insert into formule(tag, name, formula, autore, last_updated) select distinct '--to--', name, formula, autore, last_updated from formule where tag='--from--'"

CREATE_NEW_GRAFO="insert into grafi(tag, commento, last_updated, autore) select '--tag--', '--commento--', --last_updated--, '--autore--' where not exists(select 1 from grafi where tag='--tag--')"

NEED_RESYNC="select count(tag) from grafi where tag='--tag--' and last_updated > --last_updated--"

ARCHI_TAG="select partenza, arrivo from archi where tag='--tag--'"
ARCHI_TAG_LAST_UPDATED="select partenza, arrivo from archi where tag='--tag--' and last_updated > --last_updated--"

INSERT_ARCHI="insert into archi(tag, partenza, arrivo, autore, last_updated)
values('--tag--', '--from--', '--to--', '--autore--', --last_updated--)"

SHOW_CONFLICTS="select * from conflitti where tag='--tag--'"
REMOVE_CONFLICTS="delete from conflitti where tag='--tag--'"
REMOVE_CONFLICTS_NAME="delete from conflitti where tag='--tag--' and name='--name--'"

GET_CONFLICTS="select a.name, a.tag, a.anno as anno, a.prd as periodo, a.freq as freq,  a.dati as dati, a.autore as autore, b.anno as old_anno, b.periodo as old_periodo, b.freq as old_freq , b.dati as old_dati, b.autore as old_autore, date, last_updated, formula  from conflitti a, dati b  where a.tag = '--tag--' and a.tag = b.tag and a.name = b.name order by 2, 1"

GET_CONFLICTS_NAME="select a.name, a.tag, a.anno, a.prd as periodo, a.freq, a.dati, a.autore, b.anno as old_anno, b.periodo as old_periodo, b.freq as old_freq, b.dati as old_dati, b.autore as old_autore, date, formula from conflitti a, dati b where a.tag = '--tag--' and a.name='--name--' and a.tag = b.tag and a.name = b.name order by 2,1"

GET_FORMULA_CONFLICTS="select a.name, a.tag, a.formula, a.autore, date, b.formula as current_formula, b.autore as current_autore, b.last_updated, from conflitti a, formule b where a.tag='--tag--' and a.tag=b.tag and a.name=b.name order by 2,1"

GET_FORMULA_CONFLICTS_NAME="select a.name, a.tag, a.formula, a.autore, date, b.formula, b.autore, b.last_updated from conflitti a, formule b where a.tag='--tag--' and a.name='--name--' and a.tag = b.tag and a.name = b.name order by 2,1"

GET_CHANGED_SERIES="select name from dati where tag='--tag--' and last_updated > --last_updated-- union select name from formule where tag='--tag--' and last_updated > --last_updated--"

GET_OUTER_DATA_NAMES="select name from dati where tag='--tag--' and last_updated > --last_updated--"
GET_OUTER_FORMULA_NAMES="select name from formule where tag='--tag--' and last_updated > --last_updated--"

CREA_CONFLITTO_DATI="insert into conflitti(tag, name, anno, prd, freq, dati, autore, date) values ('--tag--', '--name--', --anno--, --periodo--, --freq--, '--dati--', '--autore--', --last_updated--)"

CREA_CONFLITTO_FORMULE1="update conflitti set formula ='--formula--', autore='--autore--', date=--last_updated-- where name='--name--' and tag='--tag--'"
CREA_CONFLITTO_FORMULE2="insert into conflitti(formula, autore, date, name, tag) select '--formula--', '--autore--', --last_updated--, '--name--', '--tag--' where not exists (select 1 from conflitti where name='--name--' and tag='--tag--')"

GET_META="select value from metadati where tag='--tag--' and name='--name--' and key='--key--' order by 1"
GET_METADATA="select name, key, value from metadati where tag='--tag--' and name='--name--' order by name, key"

KEYS_METADATA="select distinct keys from metadati where tag='--tag--' order by 1"
VALUES_METADATA="select distinct value from metadati where tag='--tag--' order by 1"
VALUES_METADATA_KEY="select distinct value from metadati where tag='--tag--' and key='--key=--' order by 1"
INSERT_META="insert into metadati(tag, name, key, value, autore) values ('--tag--', '--name--', '--key--', '--value--', '--autore--')"
RENAME_DATI="update dati set name='--nuovo--' where name='--vecchio--' and tag='--tag--'"
RENAME_FORMULE="update formule set name='--nuovo--' where name='--vecchio--' and tag='--tag--'"
RENAME_FORMULA="update formule set formula=replace(formula, '--vecchio--', '--nuovo--') where name='--figlia--' and tag='--tag--'"

RENAME_ARCHI_PARTENZA="update archi set partenza='--nuovo--' where partenza='--vecchio--' and tag='--tag--'"
RENAME_ARCHI_ARRIVO="update archi set arrivo='--nuovo--' where arrivo='--vecchio--' and tag='--tag--'"
RENAME_METADATI="update metadati set name='--nuovo--' where name='--vecchio--' and tag='--tag--'"
GET_CHANGED_DATA="select name from dati where tag='--tag--' and last_updated > --last_updated--"

UPDATE_DATI="update dati set anno=--anno--, periodo=--periodo--, freq=--freq--, dati='--dati--', autore='--autore--', last_updated=--last_updated--, notes='--msg--' where name='--name--' and tag='--tag--'"

UPSERT_DATI="insert into dati(anno, periodo, freq, dati, autore, name, tag, last_updated, notes) select --anno--, --periodo--, --freq--, '--dati--', '--autore--', '--name--', '--tag--', --last_updated--, '--msg--' where not exists (select 1 from dati where name='--name--' and tag='--tag--')"

UPDATE_GRAFO_LAST_UPDATED="update grafi set last_updated=--last_updated-- where tag='--tag--'"
INSERT_DATI="insert into dati(tag, name, anno, periodo, freq, dati, autore, last_updated) values ('--tag--', '--name--', --anno--, --periodo--, --freq--, '--dati--', '--autore--', --last_updated--)"

INSERT_ARCO="insert into archi(tag, partenza, arrivo, autore, last_updated) values ('--tag--', '--partenza--', '--arrivo--', '--autore--', --last_updated--)"

INSERT_FORMULA="insert into formule(tag, name, formula, autore, last_updated) values ('--tag--', '--name--', '--formula--', '--autore--', --last_updated--)"

COUNT_ROLLING="select tag from grafi where tag like '--tag--p%'"

SHOW_HISTORY="select distinct tag, ordinale, autore, max(last_updated) from history where tag='--tag--' group by tag, ordinale, autore, order by 4, 2"

LOOKUP_METADATI="select name from metadati where tag='--tag--' and key='--key--' and value='--value--'"
LOOKUP_FORMULA="select name from formule where tag='--tag--' and formula like '%--key--%'"
LOOKUP_DATI="select name from dati where tag='--tag--' and dati like '%--key--%'"
GET_CHANGED_FORMULE="select name from formule where tag='--tag--' and last_updated > --last_updated--"

UPDATE_FORMULE="update formule set formula='--formula--', autore='--autore--', last_updated=--last_updated--, commenti='--msg--' where tag='--tag--' and name='--name--'"

UPSERT_FORMULE="insert into formule(formula, autore, name, tag, last_updated, commenti) select '--formula--', '--autore--', '--name--', '--tag--', --last_updated--, '--msg--' where not exists (select 1 from formule where name='--name--' and tag='--tag--')"

GET_ALL_META="select * from metadati where tag='--tag--' order by name, key"